_base_:
  - cfgs/workflow/highres_fix_latent.yaml

dtype: fp16
amp: fp16
bs: 2
seed: 42

load_lora:
  - _target_: hcpdiff.workflow.BuildModelLoaderAction
  # load lora
  - _target_: hcpdiff.workflow.LoadLoraAction
    name: lora-ling-te
    model: TE
    cfg:
      - path: 'ckpts/ling/text_encoder-4400.safetensors'
        alpha: 0.8
  - _target_: hcpdiff.workflow.LoadLoraAction
    name: lora-ling-unet
    model: unet
    cfg:
      - path: 'ckpts/ling/unet-4400.safetensors'
        alpha: 0.8

actions:
  - build_model
  - load_lora
  - optimize_model
  - text
  - config_diffusion
  - diffusion
  ### highres fix ###
  - resize
  - config_diffusion
  - highres_diffusion
  ### highres fix ###
  - decode