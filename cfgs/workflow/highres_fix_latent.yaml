_base_:
  - cfgs/workflow/text2img.yaml

dtype: fp16
amp: fp16
bs: 2
seed: 42

resize:
  # image to image
  - _target_: hcpdiff.workflow.LatentResizeAction

config_highres:
  # prepare seed
  - _target_: hcpdiff.workflow.SeedAction
    seed: ${seed}
  - _target_: hcpdiff.workflow.MakeTimestepsAction
    N_steps: 30
    strength: 0.6
  - _target_: hcpdiff.workflow.MakeLatentAction
    width: 1024
    height: 1024

actions:
  - build_model
  - optimize_model
  - text
  - config_diffusion
  - diffusion
  ### highres fix ###
  - resize
  - config_highres
  - diffusion
  ### highres fix ###
  - decode